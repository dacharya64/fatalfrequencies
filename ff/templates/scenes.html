$def with (singular, table_name, scenes)

<a href="/">Go Home</a>

<h1>$table_name.title()</h1>

$for s, info in scenes.items():
    <p>$:render_scene(s, info)</p>
    <br/>

<script defer>
  $for s, info in scenes.items():
      $for source in info['lead_ins']:
            new LeaderLine(
              document.getElementById('line-start-$source'),
              document.getElementById('line-end-$s')
            );
      $for target in info['lead_outs']:
            new LeaderLine(
              document.getElementById('line-start-$s'),
              document.getElementById('line-end-$target')
            );
</script>


$#<div class="scenegraph">
$#  <h1 class="level-1 rectangle">CEO</h1>
$#  <ol class="level-2-wrapper">
$#    <li>
$#      <h2 class="level-2 rectangle">Director A</h2>
$#      <ol class="level-3-wrapper">
$#        <li>
$#          <h3 class="level-3 rectangle">Manager A</h3>
$#          <ol class="level-4-wrapper">
$#            <li>
$#              <h4 class="level-4 rectangle">Person A</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person B</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person C</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person D</h4>
$#            </li>
$#          </ol>
$#        </li>
$#        <li>
$#          <h3 class="level-3 rectangle">Manager B</h3>
$#          <ol class="level-4-wrapper">
$#            <li>
$#              <h4 class="level-4 rectangle">Person A</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person B</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person C</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person D</h4>
$#            </li>
$#          </ol>
$#        </li>
$#      </ol>
$#    </li>
$#    <li>
$#      <h2 class="level-2 rectangle">Director B</h2>
$#      <ol class="level-3-wrapper">
$#        <li>
$#          <h3 class="level-3 rectangle">Manager C</h3>
$#          <ol class="level-4-wrapper">
$#            <li>
$#              <h4 class="level-4 rectangle">Person A</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person B</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person C</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person D</h4>
$#            </li>
$#          </ol>
$#        </li>
$#        <li>
$#          <h3 class="level-3 rectangle">Manager D</h3>
$#          <ol class="level-4-wrapper">
$#            <li>
$#              <h4 class="level-4 rectangle">Person A</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person B</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person C</h4>
$#            </li>
$#            <li>
$#              <h4 class="level-4 rectangle">Person D</h4>
$#            </li>
$#          </ol>
$#        </li>
$#      </ol>
$#    </li>
$#  </ol>
$#</div>
$#
$#<footer class="page-footer">
$#  <span>made by </span>
$#  <a href="https://georgemartsoukos.com/" target="_blank">
$#    <img width="24" height="24" src="https://assets.codepen.io/162656/george-martsoukos-small-logo.svg" alt="George Martsoukos logo">
$#  </a>
$#</footer>

$#$if singular == 'character':
$#    <script>console.log("I'm a script")</script>
